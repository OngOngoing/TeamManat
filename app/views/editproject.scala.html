@(currentUser: User)(currentProject: Project)(members: List[User])
@num = @{
    0
}
<!DOCTYPE html>

<html>
    <head>
        <title>Exceed Vote</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/editproject.css")">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    </head>
    <body>
        <nav class="teal lighten-1 trigger" id="head">
            <div class="nav-wrapper">
                <div class="container">
                    Project Management
                </div>
            </div>
        </nav>
        <div class="container">
            <div class="card-panel grey lighten-5 z-depth-1">
                <h4 class="trigger-text trigger pageBanner">Project Detail</h4>
                <form action="./editproject/@currentProject.id" method="post">
                    <div class="input-field col s6">
                        <i class="mdi-action-account-circle prefix"></i>
                        <input id="projectName" type="text" class="validate" value="@currentProject.projectName">
                        <label for="projectName">Project Name</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="mdi-editor-mode-edit prefix"></i>
                        <textarea id="project_description" name="description" class="materialize-textarea" required>@currentProject.projectDescription</textarea>
                        <label for="project_description">Description</label>
                    </div>
                    <button class="btn waves-effect waves-light" type="submit" name="action">Save
                        <i class="mdi-content-send right"></i>
                    </button>
                </form>
            </div>
            <div class="card-panel grey lighten-5 z-depth-1">
                <h4 class="trigger-text trigger pageBanner">Member List</h4>
                @if(flash.contains("d_success")) {
                    <div class="txt-center green-text text-darken-1"><i class="Small mdi-alert-warning"></i> @flash.get("d_success")</div>
                }
                <table class="hoverable">
                    <thead>
                        <tr>
                            <th data-field="id" width="45%">First Name</th>
                            <th data-field="name" width="45%">Last Name</th>
                            <th data-field="price" width="10%">Delte</th>
                        </tr>
                    </thead>
                    <tbody>
                        @members.map { member =>
                            <tr>
                                <td><code class=" language-markup">@member.firstname</code></td>
                                <td><code class=" language-markup">@member.lastname</code></td>
                                <td><code class=" language-markup"><a class="btn-floating waves-effect waves-light red" href="../editproject/delete/@member.id/@currentProject.id"><i class="mdi-content-clear"></i></a></code></td>
                            </tr>
                        }
                        @if(members.size == 0) {
                            <tr>
                                <td><code class=" language-markup"><i>Member is empty.</i></code></td>
                                <td><code class=" language-markup"></code></td>
                                <td><code class=" language-markup"></code></td>
                            </tr>
                        }
                        <tr><form action="../editproject/addmember/@currentProject.id" method="post">
                            <td>
                                <code class=" language-markup"><h5>Add new member</h5>
                                    <blockquote>
                                        Input User ID or search user by input <br />
                                        first name / last name then select user.
                                    </blockquote>
                                </code>
                            </td>
                            <td>
                                <code class=" language-markup">
                                    <div class="input-field">
                                        <input id="searchUser" type="text" class="validate" name="searchUser">
                                        <label for="user">Keyword or User ID</label>
                                        <div id='show-result'></div>
                                        @if(flash.contains("error")) {
                                            <div class="txt-center red-text text-darken-1"><i class="Small mdi-alert-warning"></i> @flash.get("error")</div>
                                        }
                                        @if(flash.contains("success")) {
                                            <div class="txt-center green-text text-darken-1"><i class="Small mdi-alert-warning"></i> @flash.get("success")</div>
                                        }
                                    </div>
                                </code>
                            </td>
                            <td>
                                <code class=" language-markup">
                                    <button class="btn waves-effect waves-light btn-floating green" type="submit" name="action">
                                        <i class="mdi-content-add"></i>
                                    </button>
                                </code>
                            </td>
                        </form>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
            <!-- FOLATING BUTTON -->
        <div class="fixed-action-btn animated bounceInUp" style="bottom : 45 px ; right : 40 px ;">
            <a class="btn-floating btn-large trigger" href="..">
                <i class="large mdi-action-home waves-effect waves-light"></i>
            </a>
            <ul>
                <li><a class="btn-floating green " href="../logout"><i class="large mdi-action-settings-power"></i></a></li>
            </ul>
        </div>
        <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js"></script>
        <script src="@routes.Assets.at("javascripts/editproject.js")" type="text/javascript"></script>
    </body>
</html>